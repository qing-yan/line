import{aP as $,F as h,P as b,Q as x,ae as i,a8 as m,ac as p,ad as _,S as f,c as N,u as y}from"./framework-270ea3de.js";import{E as g}from"./app-56f1830e.js";const v={data(){return{tableName:"people",text:"",datas:[[]],result:""}},methods:{update(r){let e=this.text.split(`
`);for(let l=0;l<e.length;l++)this.datas[l]=e[l].split("	");var d=this.datas[0][0];for(let l=1;l<this.datas.length;l++){const t=this.datas[l];var c=t[0],a=`${this.tableName}.${this.datas[0][1]} = '${t[1]}'`;if(r=="clear")a=`${this.tableName}.${this.datas[0][1]} = '${t[1]}'`;else if(r=="concat")a=`${this.tableName}.${this.datas[0][1]} = CONCAT(IFNULL(${this.tableName}.${this.datas[0][1]}, ''), '${t[1]}')`;else{var s=t[1].substring(0,11),u=t[1].substring(11,22);s!=u&&(s+=" "+u),a=`${this.tableName}.${this.datas[0][1]} = '${s}'`}if(t.length>2)for(let o=2;o<t.length;o++)r=="clear"?a+=`,${this.tableName}.${this.datas[0][o]} = '${t[o]}'`:r=="concat"&&(a+=`,${this.tableName}.${this.datas[0][o]} = CONCAT(${this.tableName}.${this.datas[0][o]}, '${t[o]}')`);var n=`UPDATE ${this.tableName} SET ${a} WHERE ${this.tableName}.${d} = '${c}';`;this.result=this.result+n+`
`}this.copy(this.result)},select(){this.result="'"+this.text.replaceAll(`
`,"','")+"'",this.copy(this.result)},copy(r){navigator.clipboard.writeText(r).then(()=>{g({message:"复制成功",type:"success"})})},clear(){this.result=""}}},C=f("span",null,"组合UPDATE语句，数据格式为Excel格式",-1);function E(r,e,d,c,a,s){const u=h("el-input"),n=h("el-button"),l=h("el-card");return b(),x("div",null,[C,i(u,{modelValue:a.tableName,"onUpdate:modelValue":e[0]||(e[0]=t=>a.tableName=t),placeholder:"表名",style:{width:"100%"},clearable:""},null,8,["modelValue"]),i(u,{modelValue:a.text,"onUpdate:modelValue":e[1]||(e[1]=t=>a.text=t),type:"textarea",rows:10,placeholder:"内容",style:{width:"100%"}},null,8,["modelValue"]),i(n,{type:"primary",onClick:e[2]||(e[2]=t=>s.update("clear")),style:{"margin-top":"5px","margin-bottom":"5px"},title:"直接替换数据库字段内容"},{default:m(()=>[p("CLEAR UPDATE")]),_:1}),i(n,{type:"primary",onClick:e[3]||(e[3]=t=>s.update("concat")),style:{"margin-top":"5px","margin-bottom":"5px"},title:"在原来的内容后面添加内容"},{default:m(()=>[p("CONCAT UPDATE")]),_:1}),i(n,{type:"primary",onClick:e[4]||(e[4]=t=>s.update("phone")),style:{"margin-top":"5px","margin-bottom":"5px"},title:"剔除重复的电话号码"},{default:m(()=>[p("PHONE")]),_:1}),i(n,{type:"primary",onClick:e[5]||(e[5]=t=>s.select()),style:{"margin-top":"5px","margin-bottom":"5px"},title:"将内容按行转换成IN查询的内容格式"},{default:m(()=>[p("SELECT")]),_:1}),i(n,{type:"primary",onClick:e[6]||(e[6]=t=>s.clear()),style:{"margin-top":"5px","margin-bottom":"5px"}},{default:m(()=>[p("清除")]),_:1}),i(l,{style:{"white-space":"pre-line"}},{default:m(()=>[p(_(a.result),1)]),_:1})])}const T=$(v,[["render",E],["__file","SQL.vue"]]),A=N({__name:"SQL.html",setup(r){return(e,d)=>(b(),x("div",null,[i(y(T))]))}}),V=$(A,[["__file","SQL.html.vue"]]);export{V as default};
